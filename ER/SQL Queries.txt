CREATE DATABASE BUY_SELL;

CREATE TABLE USERS (
    User_id INT NOT NULL AUTO_INCREMENT,
    First_Name VARCHAR(255) NOT NULL,
    Last_Name VARCHAR(255),
    DOB DATE,
    Email VARCHAR(255) UNIQUE NOT NULL,
    Phone_No VARCHAR(10) NOT NULL,
    PRIMARY KEY(User_id)
 );
    

CREATE TABLE LOGIN(
    User_Id INT NOT NULL, 
	Login_Id VARCHAR(255) NOT NULL PRIMARY KEY, 
    Pswrd VARCHAR(255) NOT NULL, 
	Forgot_text VARCHAR(1023) NOT NULL,
    FOREIGN KEY(User_Id) REFERENCES USERS(User_id) ON DELETE CASCADE  
);

CREATE TABLE Admin (
    Admin_id INT NOT NULL PRIMARY KEY,
    First_Name VARCHAR(255) NOT NULL,
    Last_Name VARCHAR(255),
    Email VARCHAR(255) UNIQUE NOT NULL
 );

CREATE TABLE Customer_care (
    Emp_id INT NOT NULL PRIMARY KEY,
    First_Name VARCHAR(255) NOT NULL,
    Last_Name VARCHAR(255),
    Salary INT,
    Manager INT,
    FOREIGN KEY (Manager) REFERENCES Admin(Admin_id) ON DELETE SET NULL
);

CREATE TABLE Connects_to (
    User_id INT NOT NULL,
    Emp_id INT NOT NULL,
    C_date DATETIME,
    
    PRIMARY KEY (User_id, Emp_id),
    FOREIGN KEY(User_id)  REFERENCES USERS(User_id), 
    FOREIGN KEY(Emp_id)  REFERENCES Customer_care(Emp_id)
);

-- INCOMPLETE
CREATE TABLE PRODUCT(
    Product_id INT AUTO_INCREMENT PRIMARY KEY , 
    Price INT NOT NULL , 
    Image LONGBLOB , 
	Description TEXT, 
    Purchase_date DATE, 
    Title VARCHAR(255)
);
